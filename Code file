#include <stdio.h>

int main() {
    int option1, option2;
    int quantity, total = 0;
    int priceSandwich = 200, priceFries = 150, priceBurger = 100, priceCoke = 50, pricePizza = 99;
    int amountSandwich = 0, amountFries = 0, amountBurger = 0, amountCoke = 0, amountPizza = 0;
    int repeatOrder;
    do {
        printf("\n*** MENU ***\n");
        printf("1. Sandwich (%d)\n", priceSandwich);
        printf("2. Fries    (%d)\n", priceFries);
        printf("3. Burger   (%d)\n", priceBurger);
        printf("4. Coke     (%d)\n", priceCoke);
        printf("5. Pizza    (%d)\n", pricePizza);
        printf("Choose an item (1-5): ");
        scanf("%d", &option1);

        printf("Enter quantity: ");
        scanf("%d", &quantity);

        switch (option1) {
            case 1: amountSandwich += quantity * priceSandwich; break;
            case 2: amountFries += quantity * priceFries; break;
            case 3: amountBurger += quantity * priceBurger; break;
            case 4: amountCoke += quantity * priceCoke; break;
            case 5: amountPizza += quantity * pricePizza; break;
            default: printf("Invalid option!\n");
        }

        printf("\nDo you want to order more? (1 = Yes / 0 = No): ");
        scanf("%d", &repeatOrder);
    } while (repeatOrder == 1);

    total = amountSandwich + amountFries + amountBurger + amountCoke + amountPizza;
    printf("\nTotal Bill (before discount & taxes): ?%d\n", total);

    int paymentDone = 0;
    while (!paymentDone) {
        float discount = 0.0, discountAmount = 0.0, tax = 0.0, finalAmount = 0.0;
        int cardType, creditChoice, creditPoints, upiMethod;

        printf("\n*** Payment Options ***\n");
        printf("1. Debit Card    (Platinum: 15%%, Gold: 10%%, Silver: 5%%)\n");
        printf("2. Credit Card   (Credits > 100 = 15%%, >10 = 10%%, else = 0%%)\n");
        printf("3. UPI           (PhonePe: 10%%, Paytm: 7%%, GPay: 5%%)\n");
        printf("4. Cash On Delivery (No Discount)\n");
        printf("Choose payment method (1-4): ");
        scanf("%d", &option2);

        switch (option2) {
            case 1:
                printf("\nEnter Card Type: 1.Platinum  2.Gold  3.Silver: ");
                scanf("%d", &cardType);
                if (cardType == 1) discount = 0.15;
                else if (cardType == 2) discount = 0.10;
                else if (cardType == 3) discount = 0.05;
                else printf("Invalid card type.\n");
                break;

            case 2:
                printf("\nUse credit score? (1 = Yes / 0 = No): ");
                scanf("%d", &creditChoice);
                if (creditChoice == 1) {
                    printf("Enter credit points: ");
                    scanf("%d", &creditPoints);
                    if (creditPoints > 100) discount = 0.15;
                    else if (creditPoints > 10) discount = 0.10;
                    else discount = 0.0;
                } else {
                    discount = 0.04;
                }
                break;

            case 3:
                printf("\nChoose UPI:\n");
                printf("1. PhonePe (10%% off)\n");
                printf("2. Paytm   (7%% off)\n");
                printf("3. GPay    (5%% off)\n");
                printf("Select UPI method (1-3): ");
                scanf("%d", &upiMethod);
                if (upiMethod == 1) discount = 0.10;
                else if (upiMethod == 2) discount = 0.07;
                else if (upiMethod == 3) discount = 0.05;
                else printf("Invalid UPI method.\n");
                break;

            case 4:
                discount = 0.0;
                printf("\nCash On Delivery has no discount.\n");
                break;

            default:
                printf("\nInvalid payment option. Try again!\n");
                continue;
        }

        discountAmount = total * discount;
        tax = (total - discountAmount) * 0.05;
        finalAmount = total - discountAmount + tax;

        printf("\n Discount Applied: %.0f%%", discount * 100);
        printf("\n You Saved: ?%.2f", discountAmount);
        printf("\n GST & Service Charges: ?%.2f", tax);
        printf("\n Final Amount to Pay: ?%.2f", finalAmount);

        int confirm;
        printf("\n\nProceed with payment? (1 = Yes / 0 = No): ");
        scanf("%d", &confirm);

        if (confirm == 1) {
            printf("\n Thank you for ordering! Your food will arrive soon ????\n");
            paymentDone = 1;
        } else {
            printf("\n Going back to payment options...\n");
        }
    }

    return 0;
}
